<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
/** Some of the html have been copied from a popular blog reading site Pulse **/
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./index.css">
<script src="http://code.jquery.com/jquery-latest.js"></script>
<title>Splavor</title>
</head>
<body>
  <!-- Main Reader Container -->
   <div id="reader_container" class="clear">
    <!-- sidebar -->
    <div id="navigation_sidebar">
     <div class="nav-app-title">splavor</div>	                
      <!-- page / source nav -->
      <nav id="main-nav">
        <div id="main-nav-back-bg">
		  <div id="main-nav-back-shadow"></div>
		</div>				
        <div id="pages-menu">
          <ul id="page-menu">
            <li class="nav-section">
              <a class="pages_icon" data-href="cuisines">cuisines</a>
              <i class="icon-right dark"></i>
              <div class="drag-icon"></div>
            </li>
            <li class="nav-section">
              <a class="pages_icon" data-href="travel">travel</a>
              <i class="icon-right dark"></i>
              <div class="drag-icon"></div>
            </li>
            <li class="nav-section">
              <a class="pages_icon" data-href="shopping">shopping</a>
              <i class="icon-right dark"></i>
              <div class="drag-icon"></div>
            </li>
          </ul>
          <ul id="main-nav-items">
            <li id="left-nav-catalog-container" class="left-nav-blank">
              <a id="left-nav-catalog" class="outerbutton" href="javascript:void(0)">
                <div class="button">
                  <span>Add Content </span>
                  <i class="icon-plus bevel"></i>
                </div>
              </a>
            </li>
          </ul>
        </div>
      </nav>
      <!-- sidebar shadow -->
      <div id="navigation_sidebar_shadow"></div>
    </div>
    <div id="header_top">Cuisines</div>
    <div id="content_container">
      <div class="stream_container">
        <div id="tile-grid">
          <div class="story_tile" style="width: 240px; height: 240px;">
            <div id="grid-1" class="story-bg" style="background-image: url(../img/thai-1.jpg);">
              <div class="story-tile-byline long-title">
                <div class="title">Thai cuisine is the national cuisine of Thailand.</div>
              </div>
            </div>
          </div>
          <div class="story_tile" style="left: 245px; width: 240px; height: 240px;">
            <div id="grid-2" class="story-bg" style="background-image: url(../img/thai-2.jpg);">
              <div class="story-tile-byline long-title">
                <div class="title">Blending elements of several Southeast Asian traditions.</div>
              </div>
            </div>
          </div>
          <div class="story_tile" style="left: 490px; width: 240px; height: 240px;">
            <div id="grid-3" class="story-bg" style="background-image: url(../img/indian-1.jpg);">
              <div class="story-tile-byline long-title">
                <div class="title">Indian cuisine encompasses a wide variety of regional cuisines native to India.</div>
              </div>
            </div>
          </div>
          <div class="story_tile" style="left: 735px; width: 240px; height: 240px;">
            <div id="grid-4" class="story-bg" style="background-image: url(../img/indian-2.jpg);">
              <div class="story-tile-byline long-title">
                <div class="title"> Indian food is also heavily influenced by religious and cultural choices.</div>
              </div>
            </div>
          </div>
          <div class="story_tile" style="left: 980px; width: 240px; height: 240px;">
            <div id="grid-5" class="story-bg" style="background-image: url(../img/italian-1.jpg);">
              <div class="story-tile-byline long-title">
                <div class="title"> Pizza and Spaghetti, both associated with the Neapolitan traditions of cookery, are especially popular abroad, but the varying geographical conditions of the twenty regions of Italy, together with the strength of local traditions, afford a wide range of dishes.</div>
              </div>
            </div>
          </div>
          <div class="story_tile" style="top: 245px; width: 240px; height: 240px;">
            <div id="grid-6" class="story-bg" style="background-image: url(../img/italian-2.jpg);">
              <div class="story-tile-byline long-title">
                <div class="title">One of the benefits of living in Florida over the winter months is that we have the freshest seafood available to us, including a large variety of shrimp.</div>
              </div>
            </div>
          </div>
          <div class="story_tile" style="top: 245px; left: 245px; width: 240px; height: 240px;">
            <div id="grid-7" class="story-bg" style="background-image: url(../img/mexican-1.jpg);">
              <div class="story-tile-byline long-title">
                <div class="title">Mexican cuisine is a style of food which is primarily a fusion of indigenous Mesoamerican cooking with European, especially Spanish, cooking developed after the Spanish conquest of the Aztec Empire.</div>
              </div>
            </div>
          </div>
          <div class="story_tile" style="top: 245px; left: 490px; width: 240px; height: 240px;">
            <div id="grid-8" class="story-bg" style="background-image: url(../img/mexican-2.jpg);">
              <div class="story-tile-byline long-title">
                <div class="title">Mexican cuisine is complex, as complex as any of the great cuisines in the world such as those of China, France and Turkey.</div>
              </div>
            </div>
          </div>
          <div class="story_tile" style="top: 245px; left: 735px; width: 240px; height: 240px;">
            <div id="grid-9" class="story-bg" style="background-image: url(../img/american-1.jpg);">
              <div class="story-tile-byline long-title">
                <div class="title">The cuisine of the United States refers to food preparation originating from the United States of America. </div>
              </div>
            </div>
          </div>
          <div class="story_tile" style="top: 245px; left: 980px; width: 240px; height: 240px;">
            <div id="grid-10" class="story-bg" style="background-image: url(../img/american-2.jpg);">
              <div class="story-tile-byline long-title">
                <div class="title"> European colonization of the Americas yielded the introduction of a number of ingredients and cooking styles to the latter.</div>
              </div>
            </div>
          </div>
          <div class="story_tile" style="top: 490px; width: 240px; height: 240px;">
            <div id="grid-11" class="story-bg" style="background-image: url(../img/ethopian-1.jpg);">
              <div class="story-tile-byline long-title">
                <div class="title"> Ethiopian cuisine characteristically consists of vegetable and often very spicy meat dishes, usually in the form of wat (also w'et or wot), a thick stew, served atop injera, a large sourdough flatbread,[1] which is about 50 centimeters (20 inches) in diameter and made out of fermented teff flour.</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="reading_parent" style="display: none;">
    <div id="reading-header-container">
      <div id="reading-header-content">
        <div id="reading-header">
          <div id="back_button" class="reading-header-button" style="margin-left: 77px">
            <div style="padding-top:23px;">Back</div>
          </div>
          <div id="prev_article_button" class="reading-header-button">
            <div style="padding-top:23px;">Prev</div>
          </div>
          <div id="next_article_button" class="reading-header-button">
            <div style="padding-top:23px;">Next</div>
          </div>
        </div>
      </div>
    </div>
    <div id="reading-modal-clickoff" class="reading-container">
      <div id="reading-frames-content" class="reading-content">
        <div id="reading-frames">
          <div class="reading-view-frame-container abs frame-middle" style="display: block;">
            <iframe id="content_middle_frame" class="reading-view-frame" src="about:blank"></iframe>
          </div>
          <div class="reading-view-frame-container abs frame-left" style="display: none;">
            <iframe id="content_left_frame" class="reading-view-frame" src="about:blank"></iframe>
          </div>
          <div class="reading-view-frame-container abs frame-right" style="display: none;">
            <iframe id="content_right_frame" class="reading-view-frame" src="about:blank"></iframe>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    var page_map = {
      'grid-1':{'pos': 1, 'url': 'content_1.html'},
      'grid-2':{'pos': 2, 'url': 'content_2.html'},
      'grid-3':{'pos': 3, 'url': 'content_3.html'},
      'grid-4':{'pos': 4, 'url': 'content_4.html'}
    };
    // mouse hover support for the left nav bar.
    $("li.nav-section").bind("mouseover", function() {
      var color  = $(this).css("background-color");

      $(this).css("background", "#333");

      $(this).bind("mouseout", function() {
        $(this).css("background", color);
      })    
    });

    $("div.story-bg").click(function() {
        var elem = $(this).attr('id');
        var obj = page_map[elem];
        if (obj['pos'] === 1) {
          // disable prev button
          $("#prev_article_button").css('color', 'grey');
          $("#prev_article_button").attr('disabled');
        } else {
        	$("#prev_article_button").css('color', 'white');
            $("#prev_article_button").removeAttr('disabled');	
        };
        if (obj['pos'] === 4) {
          // disable next button
          $("#next_article_button").css('color', 'grey');
          $("#next_article_button").attr('disabled');
        } else {
          $("#next_article_button").css('color', 'white');
          $("#next_article_button").removeAttr('disabled');	
        };
        $("div.reading_parent").css("display", "block");
        $("#content_middle_frame").attr("src", obj['url']);
        for(key in page_map) {
          var grid = page_map[key];
          var pos = grid['pos'];
          if (pos + 1 == obj['pos']) {
        	  $("#content_left_frame").attr("src", grid['url']);  
          };
          if (pos - 1 == obj['pos']) {
        	  $("#content_right_frame").attr("src", grid['url']);  
          };
        }
    });
    
    $("#back_button").click(function() {
        $("div.reading_parent").css("display", "none");
    });
    
    $("#prev_article_button").click(function() {
    	var curr_pos;
    	var prev_url = $("#content_left_frame").attr("src");
    	var next_url = $("#content_middle_frame").attr("src");
    	$("#content_middle_frame").attr("src", prev_url);
    	$("#content_right_frame").attr("src", next_url);
    	for (key in page_map) {
      	  var grid = page_map[key];
      	  var page = grid['url'];
      	  if (page === $("#content_middle_frame").attr("src")){
      	    curr_pos = grid['pos'];
      	  }
      	};
      	
      	for(key in page_map) {
          var grid = page_map[key];
          var pos = grid['pos'];
          if (pos + 1 == curr_pos) {
          	$("#content_left_frame").attr("src", grid['url']);  
          };
        };
    });
    
    $("#next_article_button").click(function() {
    	var next_url = $("#content_right_frame").attr("src");
    	var prev_url = $("#content_middle_frame").attr("src");
    	$("#content_middle_frame").attr("src", next_url);
    	$("#content_left_frame").attr("src", prev_url);
    	var curr_pos;
    	for (key in page_map) {
    	  var grid = page_map[key];
          var page = grid['url'];
       	  if (page === $("#content_middle_frame").attr("src")){
       	    curr_pos = grid['pos'];
       	  }
       	};
        	
       	for(key in page_map) {
          var grid = page_map[key];
          var pos = grid['pos'];
          if (pos - 1 == curr_pos) {
           	$("#content_right_frame").attr("src", grid['url']);  
          };
        };
    });
    
  </script>
</body>
</html>
